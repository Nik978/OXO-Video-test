<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>OXO Playlist Editor with Date</title>
  <style>
    body {
      background: #111;
      color: #fff;
      font-family: "Comic Sans MS", sans-serif;
      padding: 20px;
    }
    input, button {
      margin: 4px;
      padding: 6px;
      font-size: 1em;
    }
    #jsonOutput {
      white-space: pre-wrap;
      background: #222;
      padding: 10px;
      border: 1px solid #555;
    }
  </style>
</head>
<body>
  <h2>OXO Playlist Editor with Date</h2>
  <label>Day (1=Mon ... 7=Sun or YYYY-MM-DD):</label>
  <input type="text" id="dayInput" value="2025-05-26" />
  <br />
  <input type="text" id="sectionInput" placeholder="Section (e.g. DJ)" />
  <input type="text" id="videosInput" placeholder="Videos (comma separated)" />
  <button onclick="addSection()">âž• Add Section</button>
  <button onclick="exportJSON()">ðŸ“¦ Export JSON</button>
  <h3>Resulting JSON:</h3>
  <pre id="jsonOutput">{}</pre>

  <script>
    const playlistData = {};

    function addSection() {
      const day = document.getElementById("dayInput").value.trim();
      const section = document.getElementById("sectionInput").value.trim();
      const videos = document.getElementById("videosInput").value.split(",").map(v => v.trim()).filter(v => v);

      if (!day || !section || videos.length === 0) {
        alert("Please fill in all fields.");
        return;
      }

      if (!playlistData[day]) playlistData[day] = {};
      playlistData[day][section] = videos;

      document.getElementById("jsonOutput").textContent = JSON.stringify(playlistData, null, 2);

      // Clear inputs
      document.getElementById("sectionInput").value = "";
      document.getElementById("videosInput").value = "";
    }

    function exportJSON() {
      const blob = new Blob([JSON.stringify(playlistData, null, 2)], { type: "application/json" });
      const url = URL.createObjectURL(blob);
      const link = document.createElement("a");
      link.href = url;
      link.download = "schedule.json";
      link.click();
    }
  </script>
</body>
</html>

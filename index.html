<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>OXO Scheduler - Drive</title>
  <style>
    body { margin: 0; background: black; }
    video {
      width: 100vw; height: 100vh; object-fit: cover;
    }
    #debug {
      position: fixed; bottom: 10px; left: 10px;
      background: rgba(0,0,0,0.7); color: #0f0;
      padding: 10px; font-family: monospace; font-size: 12px;
      z-index: 9999;
    }
  </style>
</head>
<body>
  <video id="player" autoplay muted playsinline></video>
  <div id="debug"></div>

<script>
const videoMap = {
  "Intro": "https://drive.google.com/uc?export=download&id=1F6UHL045U4MUEun-oMNEmQ919Fj4m_F1",
  "Football": "https://drive.google.com/uc?export=download&id=1cimWj6bOx24MOnKaLqZRTyfwejRSOphe",
  "Happy": "https://drive.google.com/uc?export=download&id=1Z8HXqG4lLe_gsxFwmOdV0ZOUuYVrbhOb",
  "Bucket": "https://drive.google.com/uc?export=download&id=1w-EppmvRfZYQWD8IfXIA0fLSxKX-Va2B",
  "Recruit": "https://drive.google.com/uc?export=download&id=1QC__zznW1Urz6j1oXy28SjVGN6NvaUGw",
  "Cosplay": "https://drive.google.com/uc?export=download&id=16lgmUBoaeZvUwWsIpkk2KA97v3hoGPwa"
};

const playlistMap = {
  "Sun": {
    pre: ["Happy", "Football", "Happy", "Bucket"],
    post: ["Intro", "Football", "Bucket", "Happy", "Football", "Cosplay", "Football", "Recruit"]
  },
  "Mon": {
    pre: ["Happy", "Football", "Happy", "Bucket"],
    post: ["Intro", "Football", "Bucket", "Happy", "Football", "Cosplay", "Football", "Recruit"]
  },
  "Tue": {
    pre: ["Happy", "Football", "Happy", "Bucket"],
    post: ["Intro", "Football", "Bucket", "Happy", "Football", "Cosplay", "Football", "Recruit"]
  },
  "Wed": {
    pre: ["Happy", "Football", "Happy", "Bucket"],
    post: ["Intro", "Football", "Bucket", "Happy", "Football", "Cosplay", "Football", "Recruit"]
  },
  "Thu": {
    pre: ["Bucket", "Football", "Bucket", "Happy", "Bucket"],
    post: ["Intro", "Bucket", "Football", "Bucket", "Happy", "Bucket", "Cosplay", "Bucket", "Recruit"]
  },
  "Fri": {
    pre: ["Happy", "Football", "Happy", "Bucket"],
    post: ["Intro", "Football", "Bucket", "Happy", "Football", "Cosplay", "Football", "Recruit"]
  },
  "Sat": {
    pre: ["Happy", "Football", "Happy", "Football"],
    post: ["Football"]
  }
};

const video = document.getElementById("player");
const debug = document.getElementById("debug");

function getPlaylist() {
  const now = new Date();
  const day = now.toString().slice(0,3);
  const mins = now.getHours() * 60 + now.getMinutes();
  if (mins >= 1110 && mins < 1260) return playlistMap[day].pre;
  return playlistMap[day].post;
}

function updateDebug(fascia, name) {
  const now = new Date();
  debug.innerHTML = `ðŸ•’ ${now.toLocaleTimeString()}<br>ðŸ“… ${now.toDateString()}<br>ðŸŽ¯ Fascia: ${fascia}<br>ðŸŽ¥ ${name}`;
}

let playlist = getPlaylist();
let current = 0;

function playNext() {
  const name = playlist[current % playlist.length];
  video.src = videoMap[name];
  video.play();
  current++;
  const mins = new Date().getHours() * 60 + new Date().getMinutes();
  updateDebug(mins >= 1110 && mins < 1260 ? "18:30â€“21:00" : "21:00â€“04:00", name);
}

video.onended = playNext;
playNext();
</script>
</body>
</html>
